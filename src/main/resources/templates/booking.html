<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<body>

<div style="background-size: cover;height: 800px;width: 1550px; background-image: url('https://media.istockphoto.com/id/1161067352/photo/recycled-paper-texture-background-in-light-blue-grey-color.jpg?s=170667a&w=0&k=20&c=3IvEuq6CUuTVcYV7SEnz_5XHAVKtY0NooeBMDthPVQc=')" >

    <form action="/checkDate" method="get" style="margin-left: 450px;margin-right: 450px">
        <li class="list-group-item px-3 border-0">
            <h4 style="margin-top: 10px;margin-left: 180px">Choose date to book</h4>
        </li>
        <li class="list-group-item px-3 border-0">
            <input class="form-control me-2 border border-3 border-warning" type="date" placeholder="Check-in" aria-label="Search" name="date">
        </li>
        <hr>
<!--        <input type="hidden" name="date" th:value="${date}">-->
        <input type="hidden" name="typeId" th:value="${typeId}">
        <input type="hidden" name="hotelsId" th:value="${hotelsId}">
        <input type="hidden" name="priceOfNomer" th:value="${priceOfNomer}">
        <button type="submit" class="btn btn-warning btn-rounded" style="margin-left: 100px;width: 400px" >Check Date </button>
    </form>

    &nbsp;
    <div class="alert alert-danger" STYLE="margin-left: 480px;width: 600px" >
        <div class="alert-container">
            <b class="alert-info">Attention:</b> The selected date will turn red if it is not available,
            If available, you can book further.
            <form action="/bookThis" method="get">
                <input type="hidden" name="date" th:value="${date}">
                <input type="hidden" name="typeId" th:value="${typeId}">
                <input type="hidden" name="hotelsId" th:value="${hotelsId}">
                <input type="hidden" name="priceOfNomer" th:value="${priceOfNomer}">
                <button type="submit" class="btn btn-primary" style="color: #0F4FE6;color: #0F0F0F">BOOK</button>
            </form>
        </div>
    </div>



    &nbsp;
    <div class="container">
    <table class="table align-middle mb-0 bg-white" th:each="b: ${books}">
        <thead class="bg-light">
        <tr>
            <th>Booked by </th>
            <th>Booked time</th>
            <th>For how many days</th>
            <th>Total price</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>
                <div class="d-flex align-items-center">
                    <img
                            src="https://mdbootstrap.com/img/new/avatars/8.jpg"
                            alt=""
                            style="width: 45px; height: 45px"
                            class="rounded-circle"
                    />
                    <div class="ms-3">
                        <p class="fw-bold mb-1" th:text="${b.user.name}"></p>
                        <p class="text-muted mb-0" th:text="${b.user.email}"></p>
                    </div>
                </div>
            </td>
            <td>
                <p class="fw-normal mb-1" th:text="${b.bookedTime}" th:classappend="${b.bookedTime == date ? 'text-danger fw-bold' : 'text-success fw-bold'}"> </p>
            </td>
            <td>
                <p class="text-muted mb-0" th:text="${b.days}"></p> days
            </td>
            <td>
                <p class="text-muted mb-0" th:text="${b.totalPrice}"></p> $
            </td>
        </tr>

        </tbody>
    </table>
    </div>






    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>
</html>